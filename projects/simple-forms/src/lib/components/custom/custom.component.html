<mat-toolbar *ngIf="header?.title" [color]="header?.color">
  <span>{{ header?.title }}</span>
</mat-toolbar>

<p *ngIf="message" class="simple-alert" [innerHTML]="message"></p>

<form [formGroup]="form" autocomplete="off">
  <mat-form-field *ngFor="let item of controls | keyvalue" appearance="outline" [style.width]="item?.value?.width ? item?.value?.width : '100%'">
    <mat-label>{{ item?.value?.placeholder }}</mat-label>

    <ng-container *ngIf="!item?.value?.type || item?.value?.type === 'input'">
      <input matInput [formControlName]="item?.value?.key" [type]="item?.value?.typeInput?.type ? item?.value?.typeInput?.type : 'text'">
    </ng-container>

    <ng-container *ngIf="item?.value?.type === 'select'">
      <mat-select [formControlName]="item?.value?.key" [placeholder]="item?.value?.placeholder" [multiple]="item?.value?.typeSelect?.multiple">
        <mat-option *ngFor="let option of item?.value?.typeSelect?.options" [value]="option.value">{{ option.description }}</mat-option>
      </mat-select>
    </ng-container>

    <ng-container *ngIf="item?.value?.type === 'date'">
      <input matInput [formControlName]="item?.value?.key" #date_input [matDatepicker]="date_picker" (focus)="date_picker.open()" [placeholder]="item?.value?.placeholder">
      <mat-datepicker-toggle matSuffix [for]="date_picker" class="mat-datepicker-toggle-suffix"></mat-datepicker-toggle>
      <mat-datepicker #date_picker (closed)="date_input.blur()"></mat-datepicker>
    </ng-container>
  </mat-form-field>
</form>
